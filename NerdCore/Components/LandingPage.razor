@using NerdCore.Models
@using NerdCore.Data
@inject AnimeService objAnime


<div class="uk-section-muted uk-padding">
    <div class="uk-container">
        <h1 class="uk-text-center uk-heading-line uk-padding-small">Elementos en el sistema</h1>

        <!--Elemento para evitar problemas con el counter-->
        <h1 class="count" style="display:none">2222</h1>
        @if (aniObj != null)
        {
        <div class="uk-child-width-1-2 uk-child-width-1-3@m uk-text-center uk-flex-center" uk-grid>
            <div>
                <a href="Animes" class="uk-link-reset">
                    <div class="uk-card uk-card-hover uk-card-body uk-text-center">
                        <label class="count uk-heading-primary" onload="Contar()">@TAnime</label>
                        <p>Animes</p>
                    </div>
                </a>
            </div>
            <div>
                <a href="NavInvitado/Juegos.aspx" class="uk-link-reset">
                    <div class="uk-card uk-card-hover uk-card-body uk-text-center">
                        <label class="count uk-heading-primary">2222</label>
                        <p>Juegos</p>
                    </div>
                </a>
            </div>
            <div>
                <a href="NavInvitado/Manga.aspx" class="uk-link-reset">
                    <div class="uk-card uk-card-hover uk-card-body uk-text-center">
                        <label class="count uk-heading-primary">3333</label>
                        <p>Mangas</p>
                    </div>
                </a>
            </div>
            <div>
                <a href="NavInvitado/Series.aspx" class="uk-link-reset">
                    <div class="uk-card uk-card-hover uk-card-body uk-text-center">
                        <label class="count uk-heading-primary">4444</label>
                        <p>Series</p>
                    </div>
                </a>
            </div>
            <div>
                <a href="NavInvitado/Peliculas.aspx" class="uk-link-reset">
                    <div class="uk-card uk-card-hover uk-card-body uk-text-center">
                        <label class="count uk-heading-primary">5555</label>
                        <p>Peliculas</p>
                    </div>
                </a>
            </div>
            <div>
                <a href="NavInvitado/Libros.aspx" class="uk-link-reset">
                    <div class="uk-card uk-card-hover uk-card-body uk-text-center">
                        <label class="count uk-heading-primary">1111</label>

                        <p>Libros</p>
                    </div>
                </a>
            </div>
        </div>
        }
    </div>
</div>

@code {
    int TAnime = 0;
    int TJuegos = 0;
    int TMangas = 0;
    int TSeries = 0;
    int TPeliculas = 0;
    int TLibros = 0;
    List<VAnime> aniObj;
    protected override async Task OnInitializedAsync()
    {
        aniObj = await Task.Run(() => objAnime.GetAnimes());
        contar();
    }

    private void contar()
    {
        TAnime = aniObj.Count();
    }
}
